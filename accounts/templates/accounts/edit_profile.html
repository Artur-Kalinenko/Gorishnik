{% extends "base.html" %}

{% block content %}
<!-- Форма редактирования профиля -->
<div class="container mt-5">
    <h2>Редагування профілю</h2>

    <form method="post">
        {% csrf_token %}

        <!-- Сообщения (успех/ошибки) -->
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        {% endif %}

        <!-- Поля формы -->
        {% for field in form %}
            <div class="mb-3">
                {{ field.label_tag }}
                {{ field }}
                {% if field.errors %}
                    <div class="text-danger">{{ field.errors|striptags }}</div>
                {% endif %}
            </div>
        {% endfor %}

        <!-- Кнопки -->
        <button type="submit" class="btn btn-primary">Зберегти</button>
        <a href="{% url 'user_cabinet' %}" class="btn btn-secondary ms-2">Скасувати</a>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/inputmask@5.0.8/dist/inputmask.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const input = document.getElementById("edit-phone-input");
    if (input) {
        Inputmask({
            mask: "+380 (99) 999-99-99",
            placeholder: "_",
            showMaskOnHover: false,
            showMaskOnFocus: true,
            clearIncomplete: true,
        }).mask(input);
    }
});
</script>

{% endblock %}
